(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[17],{597:function(e,n,t){"use strict";t.r(n);var c=t(38),s=t(13),r=t(67),a=t(24),i=t(0),l=t(197),o=t.n(l),j=t(265),h=t(8),u=t(138),d=t(1);n.default=function(){var e={color:"red"},n=Object(u.b)(),t=n.error,l=n.warn,b=(n.info,n.success),p=Object(i.useRef)(null),m=Object(i.useState)({name:"",description:"",category:"",sizes:[],images:[],price:"",originalPrice:""}),x=Object(a.a)(m,2),O=x[0],g=x[1],f=Object(i.useState)([{name:"",numberInStock:""}]),v=Object(a.a)(f,2),C=v[0],y=v[1],k=Object(i.useState)([]),F=Object(a.a)(k,2),N=F[0],w=F[1],I=Object(i.useState)("0"),S=Object(a.a)(I,2),z=S[0],_=S[1],D=Object(i.useState)([]),T=Object(a.a)(D,2),P=T[0],V=T[1],A=Object(i.useState)(!1),G=Object(a.a)(A,2),J=G[0],M=G[1];Object(i.useEffect)((function(){Object(j.h)({}).then((function(e){V(e.data.data)}))}),[z]);var B=function(e){return g(Object(s.a)(Object(s.a)({},O),{},Object(c.a)({},e.target.name,e.target.value)))},E=function(e,n){var t=e.target,c=t.name,s=t.value,a=Object(r.a)(C);a[n][c]=s,y(a),O.sizes=C},L=function(){""==C[C.length-1].name||""==C[C.length-1].name?l("Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ee7 th\xf4ng tin v\u1ec1 k\xedch th\u01b0\u1edbc tr\u01b0\u1edbc khi th\xeam m\u1edbi"):y([].concat(Object(r.a)(C),[{name:"",numberInStock:""}]))};return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsxs)(h.u,{"aria-label":"Default select example",onChange:function(e){return _(e.target.value)},children:[Object(d.jsx)("option",{value:"0",children:"Ch\u1ecdn shop"}),P.map((function(e){return Object(d.jsx)("option",{value:e._id,children:e.name},e._id)}))]})}),Object(d.jsxs)(h.r,{className:"row g-3",children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsxs)(h.t,{htmlFor:"exampleFormControlInput1",children:["T\xean s\u1ea3n ph\u1ea9m ",Object(d.jsx)("span",{style:e,children:"*"})]}),Object(d.jsx)(h.s,{type:"text",id:"exampleFormControlInput1",name:"name",placeholder:"Nh\u1eadp t\xean s\u1ea3n ph\u1ea9m",onChange:function(e){return B(e)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsxs)(h.t,{htmlFor:"exampleFormControlInput1",children:["Lo\u1ea1i s\u1ea3n ph\u1ea9m ",Object(d.jsx)("span",{style:e,children:"*"})]}),Object(d.jsx)(h.s,{type:"text",id:"exampleFormControlInput1",name:"category",placeholder:"Nh\u1eadp lo\u1ea1i m\u1eb7t h\xe0ng m\xe0 b\u1ea1n mu\u1ed1n \u0111\u1ec1 xu\u1ea5t",onChange:function(e){return B(e)},value:O.category})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsxs)(h.t,{htmlFor:"exampleFormControlTextarea1",children:["M\xf4 t\u1ea3 s\u1ea3n ph\u1ea9m ",Object(d.jsx)("span",{style:e,children:"*"})]}),Object(d.jsx)(h.v,{id:"exampleFormControlTextarea1",rows:"3",name:"description",onChange:function(e){return B(e)},placeholder:"M\xf4 t\u1ea3 chi ti\u1ebft v\u1ec1 s\u1ea3n ph\u1ea9m c\u1ee7a b\u1ea1n",value:O.description})]}),Object(d.jsxs)(h.j,{xs:12,children:[Object(d.jsxs)(h.t,{htmlFor:"inputAddress",children:["Ph\xe2n lo\u1ea1i h\xe0ng ",Object(d.jsx)("span",{style:e,children:"*"})]}),C.map((function(e,n){return Object(d.jsxs)("div",{id:"inputSize",children:[Object(d.jsxs)(h.I,{children:[Object(d.jsx)(h.j,{xs:!0,children:Object(d.jsx)(h.s,{name:"name",value:e.name,placeholder:"Nh\u1eadp t\xean lo\u1ea1i h\xe0ng",onChange:function(e){return E(e,n)}})}),Object(d.jsx)(h.j,{xs:!0,children:Object(d.jsx)(h.s,{name:"numberInStock",value:e.numberInStock,placeholder:"Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng h\xe0ng",onChange:function(e){return E(e,n)}})})]}),C.length-1===n&&Object(d.jsx)(h.e,{color:"dark",shape:"rounded-pill",onClick:L,size:"sm",children:"Th\xeam"}),1!==C.length&&Object(d.jsx)(h.e,{color:"dark",shape:"rounded-pill",size:"sm",onClick:function(){return function(e){var n=Object(r.a)(C);n.splice(e,1),y(n),O.sizes.splice(e,1)}(n)},children:"X\xf3a"})]},n)}))]}),Object(d.jsxs)(h.j,{xs:12,children:[Object(d.jsx)(h.s,{type:"file",onChange:function(e){!function(e){var n=new FormData;n.append("file",e),n.append("upload_preset","new_preset"),o.a.post("https://api.cloudinary.com/v1_1/accomerce/image/upload",n).then((function(e){w([].concat(Object(r.a)(N),[e.data.secure_url]))})).catch((function(e){return console.error(e)}))}(e.target.files[0])},ref:p,style:{display:"none"}}),Object(d.jsxs)(h.e,{onClick:function(){p.current.click()},color:"secondary",shape:"rounded-pill",children:["Th\xeam \u1ea3nh ",Object(d.jsx)("span",{style:e,children:"*"})]})]}),Object(d.jsx)(h.j,{xs:12,id:"imageShow",children:N&&N.map((function(e,n){return Object(d.jsx)(h.B,{fluid:!0,src:e,width:150,onClick:function(){return function(e){var n=N.filter((function(n,t){return t!==e}));w(n),console.log(n)}(n)}},n)}))}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsxs)(h.I,{children:[Object(d.jsxs)(h.j,{xs:!0,children:[Object(d.jsxs)(h.t,{htmlFor:"exampleFormControlInput1",children:["Gi\xe1 b\xe1n ",Object(d.jsx)("span",{style:e,children:"*"})]}),Object(d.jsxs)(h.C,{children:[Object(d.jsx)(h.s,{"aria-label":"Amount (to the nearest dollar)",name:"price",onChange:function(e){return B(e)},placeholder:"Nh\u1eadp gi\xe1 b\xe1n s\u1ea3n ph\u1ea9m c\u1ee7a b\u1ea1n",value:O.price}),Object(d.jsx)(h.D,{children:"VN\u0110"})]})]}),Object(d.jsxs)(h.j,{xs:!0,children:[Object(d.jsxs)(h.t,{htmlFor:"exampleFormControlInput1",children:["Gi\xe1 g\u1ed1c ",Object(d.jsx)("span",{style:e,children:"*"})]}),Object(d.jsxs)(h.C,{children:[Object(d.jsx)(h.s,{type:"text",id:"exampleFormControlInput1",name:"originalPrice",placeholder:"Nh\u1eadp gi\xe1 g\u1ed1c s\u1ea3n ph\u1ea9m c\u1ee7a b\u1ea1n",onChange:function(e){return B(e)},value:O.originalPrice}),Object(d.jsx)(h.D,{children:"VN\u0110"})]})]})]})}),Object(d.jsx)(h.j,{xs:12,children:Object(d.jsxs)(h.e,{disabled:J,onClick:function(e){e.preventDefault(),M(!0),O.images=N,0==z?(l("Vui l\xf2ng ch\u1ecdn c\u1eeda h\xe0ng"),M(!1)):0==O.sizes.length?(l("S\u1ea3n ph\u1ea9m c\u1ea7n t\u1ed1i thi\u1ec3u m\u1ed9t lo\u1ea1i h\xe0ng"),M(!1)):Object(j.i)(z,O).then((function(e){1==e.data.success?(b(e.data.message),window.location.reload(!1)):t(e.data.message)})).catch((function(e){t(e.response.data.message),M(!1)}))},type:"submit",color:"primary",children:[J?Object(d.jsx)(h.N,{component:"span",size:"sm","aria-hidden":"true"}):"","\u0110\u0103ng s\u1ea3n ph\u1ea9m"]})})]})]})}}}]);
//# sourceMappingURL=17.e8bdd015.chunk.js.map