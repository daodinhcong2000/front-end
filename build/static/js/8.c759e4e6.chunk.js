(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[8],{576:function(e,t,n){"use strict";n.r(t);var c=n(69),a=n(18),r=n(134),s=n(34),o=n(0),i=n(146),l=n.n(i),u=n(229),j=n(7),h=n(145),b=n(2);t.default=function(){var e={name:"",description:"",category:"",sizes:[],images:[],price:""},t=Object(h.b)(),n=t.error,i=t.warn,m=(t.info,t.success),d=Object(o.useRef)(null),p=Object(o.useState)(e),O=Object(s.a)(p,2),x=O[0],f=O[1],g=Object(o.useState)([{name:"",numberInStock:""}]),v=Object(s.a)(g,2),k=v[0],C=v[1],F=Object(o.useState)([]),N=Object(s.a)(F,2),w=N[0],y=N[1],S=Object(o.useState)("0"),I=Object(s.a)(S,2),T=I[0],_=I[1],z=Object(o.useState)([]),D=Object(s.a)(z,2),A=D[0],E=D[1];Object(o.useEffect)((function(){Object(u.c)().then((function(e){E(e.data.data)}))}),[]);var J=function(e){return f(Object(a.a)(Object(a.a)({},x),{},Object(c.a)({},e.target.name,e.target.value)))},L=function(e,t){var n=e.target,c=n.name,a=n.value,s=Object(r.a)(k);s[t][c]=a,C(s),x.sizes=k},V=function(){C([].concat(Object(r.a)(k),[{name:"",numberInStock:""}]))};return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"mb-3",children:Object(b.jsxs)(j.w,{"aria-label":"Default select example",onChange:function(e){return _(e.target.value)},children:[Object(b.jsx)("option",{value:"0",children:"Ch\u1ecdn shop"}),A.map((function(e){return Object(b.jsx)("option",{value:e._id,children:e.name},e._id)}))]})}),Object(b.jsxs)(j.t,{className:"row g-3",children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)(j.v,{htmlFor:"exampleFormControlInput1",children:"T\xean s\u1ea3n ph\u1ea9m"}),Object(b.jsx)(j.u,{type:"text",id:"exampleFormControlInput1",name:"name",placeholder:"Nh\u1eadp t\xean s\u1ea3n ph\u1ea9m",onChange:function(e){return J(e)}})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)(j.v,{htmlFor:"exampleFormControlTextarea1",children:"M\xf4 t\u1ea3 s\u1ea3n ph\u1ea9m"}),Object(b.jsx)(j.x,{id:"exampleFormControlTextarea1",rows:"3",name:"description",onChange:function(e){return J(e)}})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)(j.v,{htmlFor:"exampleFormControlInput1",children:"Lo\u1ea1i s\u1ea3n ph\u1ea9m"}),Object(b.jsx)(j.u,{type:"text",id:"exampleFormControlInput1",name:"category",placeholder:"Nh\u1eadp lo\u1ea1i m\u1eb7t h\xe0ng m\xe0 b\u1ea1n mu\u1ed1n \u0111\u1ec1 xu\u1ea5t",onChange:function(e){return J(e)}})]}),Object(b.jsxs)(j.k,{xs:12,children:[Object(b.jsx)(j.v,{htmlFor:"inputAddress",children:"K\xedch th\u01b0\u1edbc"}),k.map((function(e,t){return Object(b.jsxs)("div",{className:"box",children:[Object(b.jsxs)(j.L,{children:[Object(b.jsx)(j.k,{xs:!0,children:Object(b.jsx)(j.u,{name:"name",value:e.name,placeholder:"Nh\u1eadp k\xedch th\u01b0\u1edbc",onChange:function(e){return L(e,t)}})}),Object(b.jsx)(j.k,{xs:!0,children:Object(b.jsx)(j.u,{name:"numberInStock",value:e.numberInStock,placeholder:"Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng",onChange:function(e){return L(e,t)}})})]}),k.length-1===t&&Object(b.jsx)(j.e,{color:"dark",shape:"rounded-pill",onClick:V,size:"sm",children:"Th\xeam"}),1!==k.length&&Object(b.jsx)(j.e,{color:"dark",shape:"rounded-pill",size:"sm",onClick:function(){return function(e){var t=Object(r.a)(k);t.splice(e,1),C(t),x.sizes.splice(e,1)}(t)},children:"X\xf3a"})]},t)}))]}),Object(b.jsxs)(j.k,{xs:12,children:[Object(b.jsx)(j.u,{type:"file",onChange:function(e){!function(e){var t=new FormData;t.append("file",e),t.append("upload_preset","new_preset"),l.a.post("https://api.cloudinary.com/v1_1/accomerce/image/upload",t).then((function(e){y([].concat(Object(r.a)(w),[e.data.secure_url]))})).catch((function(e){return console.error(e)}))}(e.target.files[0])},ref:d,style:{display:"none"}}),Object(b.jsx)(j.e,{onClick:function(){d.current.click()},children:"Th\xeam \u1ea3nh"})]}),Object(b.jsx)(j.k,{xs:12,children:w&&w.map((function(e,t){return Object(b.jsx)(j.D,{fluid:!0,src:e,width:150,height:150,onClick:function(){return function(e){var t=w.filter((function(t,n){return n!==e}));y(t),console.log(t)}(t)}},t)}))}),Object(b.jsxs)(j.E,{className:"mb-3",children:[Object(b.jsx)(j.F,{children:"$"}),Object(b.jsx)(j.u,{"aria-label":"Amount (to the nearest dollar)",name:"price",onChange:function(e){return J(e)}}),Object(b.jsx)(j.F,{children:"VN\u0110"})]}),Object(b.jsx)(j.k,{xs:12,children:Object(b.jsx)(j.e,{onClick:function(t){t.preventDefault(),x.images=w,0==T?i("Vui l\xf2ng ch\u1ecdn c\u1eeda h\xe0ng"):Object(u.d)(T,x).then((function(t){1==t.data.success?(m(t.data.message),setTimeout(f(e),3e3)):n(t.data.message)})).catch((function(e){n(e.response.data.message)}))},type:"submit",children:"\u0110\u0103ng s\u1ea3n ph\u1ea9m"})})]})]})}}}]);
//# sourceMappingURL=8.c759e4e6.chunk.js.map