(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[8],{582:function(e,n,t){"use strict";t.r(n);var c=t(69),a=t(18),r=t(135),s=t(34),i=t(0),o=t(149),l=t.n(o),u=t(232),j=t(7),h=t(148),m=t(2);n.default=function(){var e=Object(h.b)(),n=e.error,t=e.warn,o=(e.info,e.success),b=Object(i.useRef)(null),d=Object(i.useState)({name:"",description:"",category:"",sizes:[],images:[],price:""}),p=Object(s.a)(d,2),O=p[0],x=p[1],f=Object(i.useState)([{name:"",numberInStock:""}]),g=Object(s.a)(f,2),v=g[0],k=g[1],C=Object(i.useState)([]),w=Object(s.a)(C,2),F=w[0],N=w[1],S=Object(i.useState)("0"),y=Object(s.a)(S,2),I=y[0],z=y[1],_=Object(i.useState)([]),T=Object(s.a)(_,2),D=T[0],V=T[1];Object(i.useEffect)((function(){Object(u.c)().then((function(e){V(e.data.data)}))}),[D]);var A=function(e){return x(Object(a.a)(Object(a.a)({},O),{},Object(c.a)({},e.target.name,e.target.value)))},E=function(e,n){var t=e.target,c=t.name,a=t.value,s=Object(r.a)(v);s[n][c]=a,k(s),O.sizes=v},J=function(){""==v[v.length-1].name||""==v[v.length-1].name?t("Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ee7 th\xf4ng tin v\u1ec1 k\xedch th\u01b0\u1edbc tr\u01b0\u1edbc khi th\xeam m\u1edbi"):k([].concat(Object(r.a)(v),[{name:"",numberInStock:""}]))};return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsxs)(j.w,{"aria-label":"Default select example",onChange:function(e){return z(e.target.value)},children:[Object(m.jsx)("option",{value:"0",children:"Ch\u1ecdn shop"}),D.map((function(e){return Object(m.jsx)("option",{value:e._id,children:e.name},e._id)}))]})}),Object(m.jsxs)(j.t,{className:"row g-3",children:[Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)(j.v,{htmlFor:"exampleFormControlInput1",children:"T\xean s\u1ea3n ph\u1ea9m"}),Object(m.jsx)(j.u,{type:"text",id:"exampleFormControlInput1",name:"name",placeholder:"Nh\u1eadp t\xean s\u1ea3n ph\u1ea9m",onChange:function(e){return A(e)}})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)(j.v,{htmlFor:"exampleFormControlTextarea1",children:"M\xf4 t\u1ea3 s\u1ea3n ph\u1ea9m"}),Object(m.jsx)(j.x,{id:"exampleFormControlTextarea1",rows:"3",name:"description",onChange:function(e){return A(e)}})]}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)(j.v,{htmlFor:"exampleFormControlInput1",children:"Lo\u1ea1i s\u1ea3n ph\u1ea9m"}),Object(m.jsx)(j.u,{type:"text",id:"exampleFormControlInput1",name:"category",placeholder:"Nh\u1eadp lo\u1ea1i m\u1eb7t h\xe0ng m\xe0 b\u1ea1n mu\u1ed1n \u0111\u1ec1 xu\u1ea5t",onChange:function(e){return A(e)}})]}),Object(m.jsxs)(j.k,{xs:12,children:[Object(m.jsx)(j.v,{htmlFor:"inputAddress",children:"K\xedch th\u01b0\u1edbc"}),v.map((function(e,n){return Object(m.jsxs)("div",{className:"box",id:"inputSize",children:[Object(m.jsxs)(j.L,{children:[Object(m.jsx)(j.k,{xs:!0,children:Object(m.jsx)(j.u,{name:"name",value:e.name,placeholder:"Nh\u1eadp k\xedch th\u01b0\u1edbc",onChange:function(e){return E(e,n)}})}),Object(m.jsx)(j.k,{xs:!0,children:Object(m.jsx)(j.u,{name:"numberInStock",value:e.numberInStock,placeholder:"Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng",onChange:function(e){return E(e,n)}})})]}),v.length-1===n&&Object(m.jsx)(j.e,{color:"dark",shape:"rounded-pill",onClick:J,size:"sm",children:"Th\xeam"}),1!==v.length&&Object(m.jsx)(j.e,{color:"dark",shape:"rounded-pill",size:"sm",onClick:function(){return function(e){var n=Object(r.a)(v);n.splice(e,1),k(n),O.sizes.splice(e,1)}(n)},children:"X\xf3a"})]},n)}))]}),Object(m.jsxs)(j.k,{xs:12,children:[Object(m.jsx)(j.u,{type:"file",onChange:function(e){!function(e){var n=new FormData;n.append("file",e),n.append("upload_preset","new_preset"),l.a.post("https://api.cloudinary.com/v1_1/accomerce/image/upload",n).then((function(e){N([].concat(Object(r.a)(F),[e.data.secure_url]))})).catch((function(e){return console.error(e)}))}(e.target.files[0])},ref:b,style:{display:"none"}}),Object(m.jsx)(j.e,{onClick:function(){b.current.click()},children:"Th\xeam \u1ea3nh"})]}),Object(m.jsx)(j.k,{xs:12,id:"imageShow",children:F&&F.map((function(e,n){return Object(m.jsx)(j.D,{fluid:!0,src:e,width:150,height:150,onClick:function(){return function(e){var n=F.filter((function(n,t){return t!==e}));N(n),console.log(n)}(n)}},n)}))}),Object(m.jsxs)(j.E,{className:"mb-3",children:[Object(m.jsx)(j.F,{children:"$"}),Object(m.jsx)(j.u,{"aria-label":"Amount (to the nearest dollar)",name:"price",onChange:function(e){return A(e)}}),Object(m.jsx)(j.F,{children:"VN\u0110"})]}),Object(m.jsx)(j.k,{xs:12,children:Object(m.jsx)(j.e,{onClick:function(e){e.preventDefault(),O.images=F,0==I?t("Vui l\xf2ng ch\u1ecdn c\u1eeda h\xe0ng"):Object(u.d)(I,O).then((function(e){1==e.data.success?(o(e.data.message),window.location.reload(!1)):n(e.data.message)})).catch((function(e){n(e.response.data.message)}))},type:"submit",children:"\u0110\u0103ng s\u1ea3n ph\u1ea9m"})})]})]})}}}]);
//# sourceMappingURL=8.c50da689.chunk.js.map